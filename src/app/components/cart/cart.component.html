<div class="cart-container container mt-4">
  <!-- Title -->
  <h2 class="cart-title">
    <i class="pi pi-shopping-cart text-primary me-2"></i> Shopping Cart
  </h2>

  <!-- Empty cart message -->
  <p-message 
    *ngIf="cartItems.length === 0" 
    severity="info" 
    text="Your cart is empty. Start shopping to add items.">
  </p-message>

  <!-- Cart table -->
  <div *ngIf="cartItems.length > 0">
    <p-table 
      [value]="cartItems" 
      class="p-datatable-sm custom-table shadow-sm rounded-lg"
      responsiveLayout="scroll">

      <!-- Table header -->
      <ng-template pTemplate="header">
        <tr>
          <th><i class="pi pi-image"></i> Image</th>
          <th><i class="pi pi-box"></i> Product</th>
          <th><i class="pi pi-dollar"></i> Price</th>
          <th><i class="pi pi-sort-numeric-up"></i> Qty</th>
          <th><i class="pi pi-wallet"></i> Total</th>
          <th><i class="pi pi-cog"></i> Actions</th>
        </tr>
      </ng-template>

      <!-- Table body -->
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>
            <img [src]="item.thumbnail" alt="{{ item.title }}" class="product-img">
          </td>
          <td class="fw-medium">{{ item.title }}</td>
          <td>{{ item.price }} EGP</td>
          <td>{{ item.quantity }}</td>
          <td class="fw-medium text-success">{{ item.price * item.quantity }} EGP</td>
          <td>
            <button 
              pButton 
              type="button" 
              icon="pi pi-trash" 
              class="p-button-rounded p-button-text p-button-danger p-button-sm"
              (click)="removeItem(item.id)">
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>

    <!-- Footer -->
    <div class="cart-footer mt-3 d-flex justify-content-between align-items-center">
      <h3 class="m-0 fw-normal">
        Total: <span class="text-success fw-semibold">{{ totalPrice }} EGP</span>
      </h3>
      <button 
        pButton 
        type="button" 
        label="Clear Cart" 
        icon="pi pi-times" 
        class="p-button-outlined p-button-danger p-button-sm"
        (click)="clearCart()">
      </button>
    </div>
  </div>
</div>
